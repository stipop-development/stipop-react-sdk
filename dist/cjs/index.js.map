{"version":3,"file":"index.js","sources":["../../src/ChattingComponent/index.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport styled from 'styled-components'\n\nimport { ChattingProps } from './index.types'\n\nconst ChattingComponent: React.FC<ChattingProps> = ({\n  width,\n  height,\n  sticker,\n}) => {\n  const [chatList, setChatList] = useState([])\n\n  useEffect(() => {\n    if (sticker) {\n      setChatList(chatList.concat(sticker))\n    }\n  }, [sticker])\n\n  useEffect(() => {\n    const chat = document.querySelector('.chat-list')\n    chat.scrollTop = chat.scrollHeight\n  }, [chatList])\n\n  return (\n    <ChattingWrapper width={width} height={height} sticker={sticker}>\n      <ChatList className=\"chat-list\">\n        {chatList.map(chat => (\n          <ChatWrapper>\n            <span>Guest</span>\n            <Chat\n              sticker={chat.startsWith('https://img.stipop.io') ? true : false}\n            >\n              {chat.startsWith('https://img.stipop.io') ? (\n                <img src={chat} alt=\"\" />\n              ) : (\n                chat\n              )}\n            </Chat>\n          </ChatWrapper>\n        ))}\n      </ChatList>\n      <ChattingFrom>\n        <ChattingInput\n          placeholder=\"Type Message\"\n          onKeyPress={e => {\n            if (e.key === 'Enter') {\n              if (e.target.value.length > 0) {\n                setChatList(chatList.concat(e.target.value))\n              }\n              e.target.value = ''\n            }\n          }}\n        />\n      </ChattingFrom>\n    </ChattingWrapper>\n  )\n}\n\nexport default ChattingComponent\n\nconst ChattingWrapper = styled.div`\n  width: ${props => (props.width ? `${props.width}px` : '80vw')};\n  height: ${props => (props.height ? `${props.height}px` : '90vh')};\n  background-color: #f8f6fe;\n  position: relative;\n  padding: 15px;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n`\nconst ChatList = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  height: calc(100% - 60px);\n  overflow-y: auto;\n`\nconst ChatWrapper = styled.div`\n  margin: 5px 0;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  padding-right: 5px;\n\n  span {\n    font-size: 12px;\n    color: #696969;\n    padding-right: 5px;\n    margin-bottom: 2px;\n  }\n`\nconst Chat = styled.div`\n  background-color: ${props => (props.sticker ? '' : '#fff')};\n  border-radius: 10px;\n  display: inline-block;\n  padding: 5px 10px;\n  word-break: break-all;\n  font-size: 14px;\n\n  img {\n    width: 80px;\n    height: 80px;\n  }\n`\nconst ChattingFrom = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-sizing: border-box;\n`\nconst ChattingInput = styled.input`\n  width: 100%;\n  height: 40px;\n  border-radius: 5px;\n  border: 1px solid lightgray;\n  padding: 0 15px;\n  box-sizing: border-box;\n`\n"],"names":["useState","useEffect","React","styled","__makeTemplateObject"],"mappings":"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"}